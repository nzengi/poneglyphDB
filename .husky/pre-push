#!/usr/bin/env sh

# Run full test suite
echo "Running full test suite..."
cargo test --workspace --all-features || {
    echo "Tests failed. Please fix them before pushing."
    exit 1
}

# Run clippy with all features
echo "Running clippy..."
cargo clippy --workspace --all-features -- -D warnings || {
    echo "Clippy found issues. Please fix them before pushing."
    exit 1
}

echo "Pre-push checks passed!"
